    .include "macros/btlcmd.inc"

    .data

_000:
    CheckSubstitute BTLSCR_ATTACKER, _032
    CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_ABILITY, ABILITY_MULTITYPE, _032
    CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_GRISEOUS_ORB, _032
    CompareMonDataToValue OPCODE_NEQ, BTLSCR_ATTACKER, BATTLEMON_QUICK_CLAW, 0, _032
    CompareMonDataToValue OPCODE_NEQ, BTLSCR_ATTACKER, BATTLEMON_CUSTAP_BERRY, 0, _032
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_TOXIC_ORB, _052
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_FLAME_ORB, _062
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_LEFTOVERS, _072
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_POISON_BARB, _082
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_STICKY_BARB, _092
	CompareMonDataToValue OPCODE_EQU, BTLSCR_ATTACKER, BATTLEMON_HELD_ITEM, ITEM_SITRUS_BERRY, _102
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30

_032:
    End 
	
_052:
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage
	Wait
	WaitButtonABTime 30
	CompareMonDataToValue OPCODE_FLAG_NOT, BTLSCR_ATTACKER, BATTLEMON_STATUS, MON_CONDITION_ANY_POISON, _032
    // {0}â€™s poisoning faded away.
    PrintMessage pl_msg_00000368_01340, TAG_NICKNAME, BTLSCR_ATTACKER
    UpdateMonData OPCODE_SET, BTLSCR_ATTACKER, BATTLEMON_STATUS, MON_CONDITION_NONE
	SetHealthbarStatus BTLSCR_ATTACKER, BATTLE_ANIMATION_NONE
    Wait 
    WaitButtonABTime 30
	
	UpdateVarFromVar OPCODE_SET, BTLVAR_SIDE_EFFECT_MON, BTLVAR_DEFENDER
	Call BATTLE_SUBSCRIPT_BADLY_POISON
	End

_062:
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30
	
	UpdateVarFromVar OPCODE_SET, BTLVAR_SIDE_EFFECT_MON, BTLVAR_DEFENDER
	Call BATTLE_SUBSCRIPT_BURN
	End
	
_072:
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30
	
	CompareMonDataToValue OPCODE_NEQ, BTLSCR_DEFENDER, BATTLEMON_HEAL_INVERSION_TURNS, 0, _075
	UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_CALC_TEMP
	CompareMonDataToVar OPCODE_EQU, BTLSCR_DEFENDER, BATTLEMON_CUR_HP, BTLVAR_CALC_TEMP, _032
    UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_HP_CALC_TEMP
    DivideVarByValue BTLVAR_HP_CALC_TEMP, 8
    UpdateVarFromVar OPCODE_SET, BTLVAR_MSG_BATTLER_TEMP, BTLVAR_DEFENDER
	UpdateVar OPCODE_FLAG_ON, BTLVAR_BATTLE_CTX_STATUS, SYSCTL_SKIP_SPRITE_BLINK
    Call BATTLE_SUBSCRIPT_UPDATE_HP
    End
	
_075:
	UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_HP_CALC_TEMP
    DivideVarByValue BTLVAR_HP_CALC_TEMP, 8
	UpdateVar OPCODE_MUL, BTLVAR_HP_CALC_TEMP, -1
    UpdateVarFromVar OPCODE_SET, BTLVAR_MSG_BATTLER_TEMP, BTLVAR_DEFENDER
    Call BATTLE_SUBSCRIPT_UPDATE_HP
	End
	
_082:
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30
	
	UpdateVarFromVar OPCODE_SET, BTLVAR_SIDE_EFFECT_MON, BTLVAR_DEFENDER
	Call BATTLE_SUBSCRIPT_POISON
	End
	
_092:
	TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30
    CompareMonDataToValue OPCODE_FLAG_SET, BTLSCR_DEFENDER, BATTLEMON_VOLATILE_STATUS, VOLATILE_CONDITION_CHIP, _032
    UpdateMonData OPCODE_FLAG_ON, BTLSCR_DEFENDER, BATTLEMON_VOLATILE_STATUS, VOLATILE_CONDITION_CHIP
    // The Sticky Barb latched onto {0}!
    PrintMessage pl_msg_00000368_01270, TAG_NICKNAME, BTLSCR_DEFENDER
    Wait 
    WaitButtonABTime 30
    End
	
_102:
    TrySlurpUp _032
	PlayBattleAnimation BTLSCR_ATTACKER, BATTLE_ANIMATION_ANGRY
    Wait
    PrintBufferedMessage 
    Wait 
    WaitButtonABTime 30
	
	CompareMonDataToValue OPCODE_NEQ, BTLSCR_DEFENDER, BATTLEMON_HEAL_INVERSION_TURNS, 0, _075
	UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_CALC_TEMP
	CompareMonDataToVar OPCODE_EQU, BTLSCR_DEFENDER, BATTLEMON_CUR_HP, BTLVAR_CALC_TEMP, _032
    UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_HP_CALC_TEMP
    DivideVarByValue BTLVAR_HP_CALC_TEMP, 4
    UpdateVarFromVar OPCODE_SET, BTLVAR_MSG_BATTLER_TEMP, BTLVAR_DEFENDER
	UpdateVar OPCODE_FLAG_ON, BTLVAR_BATTLE_CTX_STATUS, SYSCTL_SKIP_SPRITE_BLINK
    Call BATTLE_SUBSCRIPT_UPDATE_HP
    End
	
_105:
	UpdateMonDataFromVar OPCODE_GET, BTLSCR_DEFENDER, BATTLEMON_MAX_HP, BTLVAR_HP_CALC_TEMP
    DivideVarByValue BTLVAR_HP_CALC_TEMP, 4
	UpdateVar OPCODE_MUL, BTLVAR_HP_CALC_TEMP, -1
    UpdateVarFromVar OPCODE_SET, BTLVAR_MSG_BATTLER_TEMP, BTLVAR_DEFENDER
    Call BATTLE_SUBSCRIPT_UPDATE_HP
	End