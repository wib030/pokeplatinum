    .include "macros/btlcmd.inc"

    .data

_000:
	CheckAbility CHECK_NOT_HAVE, BTLSCR_DEFENDER, ABILITY_COLOR_CHANGE, _262
    CheckAbility CHECK_NOT_HAVE, BTLSCR_ATTACKER, ABILITY_NORMALIZE, _020
    UpdateVar OPCODE_SET, BTLVAR_CALC_TEMP, TYPE_NORMAL
    GoTo _030

_020:
    CompareVarToValue OPCODE_EQU, BTLVAR_MOVE_TYPE, TYPE_NORMAL, _025
    UpdateVarFromVar OPCODE_SET, BTLVAR_CALC_TEMP, BTLVAR_MOVE_TYPE
    GoTo _030
	
_025:
    GetCurrentMoveData MOVEATTRIBUTE_TYPE
	
_030:
	CompareVarToValue OPCODE_EQU, BTLVAR_CALC_TEMP, TYPE_MYSTERY, _262
	CompareMonDataToValue OPCODE_EQU, BTLSCR_DEFENDER, BATTLEMON_CUR_HP, 0, _262
	CompareMonDataToValue OPCODE_EQU, BTLSCR_DEFENDER, BATTLEMON_TYPE_1, BTLVAR_CALC_TEMP, _262
	CompareMonDataToValue OPCODE_EQU, BTLSCR_DEFENDER, BATTLEMON_TYPE_2, BTLVAR_CALC_TEMP, _262
	GoTo _033

_033:
     // {0}â€™s {1} made it the {2} type!
    PrintMessage pl_msg_00000368_00641, TAG_NICKNAME_ABILITY_TYPE, BTLSCR_DEFENDER, BTLSCR_DEFENDER, BTLVAR_CALC_TEMP
    Wait 
    WaitButtonABTime 30
    UpdateMonDataFromVar OPCODE_SET, BTLSCR_DEFENDER, BATTLEMON_TYPE_1, BTLVAR_CALC_TEMP
    UpdateMonDataFromVar OPCODE_SET, BTLSCR_DEFENDER, BATTLEMON_TYPE_2, BTLVAR_CALC_TEMP
    End 

_262:
    End 
